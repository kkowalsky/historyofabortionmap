function initialize(){setMap()}function setMap(){function a(a,r,o,s){function i(a,e,r){for(var t=s.objects.states.geometries,o=0;o<e.length;o++)for(var i=e[o],n=i.adm,c=0;c<t.length;c++)if(t[c].properties.postal==n){attrObj={};for(var d in yearsArray){var f=keyArray[d],l=parseFloat(i[f]);attrObj[f]=l}t[c].properties[r]=attrObj}}var n=[r,o],c=["ConsentData","gradeData"];for(csv in n)i(s,n[csv],c[csv]);e.append("path").datum(topojson.feature(s,s.objects.states)).attr("class","states").attr("d",t)}var e=d3.select(".map").append("svg").attr("width",mapWidth).attr("height",mapHeight).attr("class","us-map"),r=d3.geo.albersUsa().scale(1e3).translate([mapWidth/2,mapHeight/2]),t=d3.geo.path().projection(r);queue().defer(d3.csv,"data/consent.csv").defer(d3.csv,"data/Grades.csv").defer(d3.json,"data/usa.topojson").await(a)}function changeAttribute(){}function colorScale(){d3.scale.ordinal().range(["#f7f7f7","#cccccc","#969696","#636363","#252525"])}var mapWidth=850,mapHeight=600,keyArray=["grades","tacos"],yearsArray=["Pre-1973","1973"],expressed=keyArray[0];window.onload=initialize(),colorArrayOverview=["#252525","#636363","#969696","#cccccc","#f7f7f7"],colorArrayProhibited=["#252525","#636363","#969696","#bdbdbd","#d9d9d9","#f7f7f7"],colorArrayCounseling=["#252525","#f7f7f7"],colorArrayConsent=["#252525","#969696","#f7f7f7"],colorArrayUltrasound=["#252525","#636363","#969696","#f7f7f7"],arrayOverview=["F","D","C","B","A"],arrayProhibited=["12 weeks","20 weeks","22 weeks","24 weeks","3rd trimester","Viability"],arrayCounseling=["Yes","No"],arrayWaitingPeriod=["72 hours","48 hours","24 hours","18 hours","None"],arrayConsent=["Consent","Notice","None"],arrayUltrasound=["Must be performed, offer to view","Must be performed","Must be offered","None"],$(function(){$(".nav li a").on("click",function(){var a=$(this).parent("li"),e=a.parent("ul");a.hasClass("active")||(e.find("li.active").removeClass("active"),a.addClass("active"))})});