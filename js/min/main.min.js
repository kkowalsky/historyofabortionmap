function initialize(){setMap()}function setMap(){function a(a,e,t,r){function s(a,e,t){for(var s=r.objects.states.geometries,i=0;i<e.length;i++)for(var c=e[i],o=c.adm,n=0;n<s.length;n++)if(s[n].properties.postal==o){attrObj={};for(var d in yearsArray){var v=keyArray[d],l=parseFloat(c[v]);attrObj[v]=l}s[n].properties[t]=attrObj}}var i=[e,t],c=["gradeData","ConsentData"];for(csv in i)s(r,i[csv],c[csv])}{var e=(d3.select(".map").append("svg").attr("width",mapWidth).attr("height",mapHeight).attr("class","us-map"),d3.geo.albersUsa().scale(1e3).translate([mapWidth/2,mapHeight/2]));d3.geo.path().projection(e)}queue().defer(d3.csv,"data/grades.csv").defer(d3.csv,"data/consent.csv").defer(d3.json,"data/usa.topojson").await(a)}function colorScale(){d3.scale.ordinal().range(["#f7f7f7","#cccccc","#969696","#636363","#252525"])}var mapWidth=850,mapHeight=600,keyArray=["grades","tacos"],yearsArray=["Pre-1973","1973"],expressed=keyArray[0];window.onload=initialize();var colorArrayOverview=["#fb6a4a","#bcbddc","#9e9ac8","#756bb1","#54278f"],colorArrayOverview=["#fb6a4a","#bcbddc","#9e9ac8","#756bb1","#54278f"];$(function(){$(".nav li a").on("click",function(){var a=$(this).parent("li"),e=a.parent("ul");a.hasClass("active")||(e.find("li.active").removeClass("active"),a.addClass("active"))})});