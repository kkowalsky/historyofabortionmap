function initialize(){setMap()}function setMap(){function a(a,e,s,o){function c(a,t,e){for(var r=o.objects.states.geometries,s=0;s<t.length;s++)for(var c=t[s],i=c.adm,n=0;n<r.length;n++)if(r[n].properties.postal==i){attrObj={};for(var d in yearsArray){var f=keyArray[d],l=parseFloat(c[f]);attrObj[f]=l}r[n].properties[e]=attrObj}}var i=[e,s],n=["ConsentData","gradeData"];for(csv in i)c(o,i[csv],n[csv]);t.append("path").datum(topojson.feature(o,o.objects.states)).attr("class","states").attr("d",r)}var t=d3.select(".map").append("svg").attr("width",mapWidth).attr("height",mapHeight).attr("class","us-map"),e=d3.geo.albersUsa().scale(1e3).translate([mapWidth/2,mapHeight/2]),r=d3.geo.path().projection(e);queue().defer(d3.csv,"data/consent.csv").defer(d3.csv,"data/Grades.csv").defer(d3.json,"data/usa.topojson").await(a)}function colorScale(){d3.scale.ordinal().range(["#f7f7f7","#cccccc","#969696","#636363","#252525"])}var mapWidth=850,mapHeight=600,keyArray=["grades","tacos"],yearsArray=["Pre-1973","1973"],expressed=keyArray[0];window.onload=initialize(),colorArrayOverview=["#252525","#636363","#969696","#cccccc","#f7f7f7"],colorArrayProhibited=["#252525","#636363","#969696","#bdbdbd","#d9d9d9","#f7f7f7"],colorArrayCounseling=["#252525","#f7f7f7"],colorArrayConsent=["#252525","#969696","#f7f7f7"],colorArrayConsent=["#252525","#636363","#969696","#f7f7f7"],$(function(){$(".nav li a").on("click",function(){var a=$(this).parent("li"),t=a.parent("ul");a.hasClass("active")||(t.find("li.active").removeClass("active"),a.addClass("active"))})});